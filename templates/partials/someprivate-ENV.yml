Environment:
  -
    Name: NODE_ENV
    Value:
      Ref: Environment
  -
    Name: POSTGRES_DIALECT
    Value: postgres
  -
    Name: POSTGRES_USER
    Value: 'postgres'
  -
    Name: POSTGRES_HOST
    Value:
      'Fn::ImportValue':
        'Fn::Sub': '${Environment}:${BranchName}:DBWriteEndpoint'
  -
    Name: POSTGRES_DATABASE
    Value: 'postgres'
  -
    Name: POSTGRES_PORT
    Value:
      Ref: DBPort
  -
    Name: SOME_PUBLIC_URL
    Value:
      Ref: SomePublicUrl
# Using Secret Name is only supported on the same account
Secrets:
  # Autogenerated DB Password's ARN
  -
    Name: POSTGRES_PASSWORD
    ValueFrom:
      'Fn::Sub': '${DBSecret}'
  # Some Token your app may need, stored on SSM
  -
    Name: SOME_TOKEN
    ValueFrom:
      'Fn::Sub': 'arn:aws:ssm:${AWS::Region}:${AWS::AccountId}:parameter/${Environment}/tokens/SOME_TOKEN'